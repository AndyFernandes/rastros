<!DOCTYPE html>
<html>

<!-- CABEÇALHO -->
<head>
	<meta charset="utf-8">
	<title>RASTROS - Uma Visão Sobre a Seca no Ceará</title>
	
	<!-- IMPORTANDO ARQUIVOS DE ESTILO -->
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" href="css/dc.min.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- IMPORTANDO SCRIPTS DE INTERAÇÃO -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

	<script src="https://d3js.org/d3.v5.min.js"></script>
	<script src='https://unpkg.com/intersection-observer@0.5.0/intersection-observer.js'></script>
	<script src='https://unpkg.com/scrollama'></script>
	
	<script src='js/script.js'></script>
	<script src='js/stickyfill.min.js'></script>

	<script src="js/crossfilter.min.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="js/dc.min.js"></script>

</head>

<!-- CORPO -->
<body>
	<!-- MENU DE NAVEGAÇÃO -->
	<div class="fixed-top">
		<nav class=" collapse navbar sticky-top navbar-expand-lg navbar-light bg-light" id="nav1">
			<div class=" navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto mx-auto">
				<li class="nav-item active">
					<a class="nav-link" href="#intro">Início <span class="sr-only">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#scroll_1">O que é a SECA?</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#scroll_2">Índices Sociais</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#scroll_3">Correlações</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#scroll_4">Medidas e Soluções</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#about_us">Sobre</a>
				</li>
			</ul>
			</div>
		</nav>
		<nav class="navbar sticky-top  navbar-light bg-light">
			<button class="navbar-toggler " type="button" data-toggle="collapse" data-target="#nav1" aria-controls="nav1" aria-expanded="false" aria-label="Toggle navigation">
			  <span class="navbar-toggler-icon"></span>
			</button>
		</nav>
	</div>

	<!-- SECTION INICIAL: TÍTULO -->
	<section id="intro">
		<div class="intro_mosaic"></div>

		<div class="intro_title_bg">
			<div class="intro_title">
				<h1 class='intro__hed'>R A S T R O S</h1>
				<h2 class="intro__dek">UMA VISÃO SOBRE A SECA NO CEARÁ</h2>
			</div>
		</div>			
	</section>
	
	<!-- SECTION 1: O QUE É A SECA? -->
	<section class="section_header">
		<h1>1ª PARTE: O que é a SECA?</h1>
	</section>

	<section class="scroll" id='scroll_1'>
		<div class='scroll__graphic sticky' id='scroll__graphic_1'>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_0'>
				<img src="res/dog1.jpg">
			</div>
			<div class='scroll__graphic__img right_panel' id='scroll__graphic__img_1'>
				<img src="res/dog2.jpg">
			</div>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_2'>
				<img src="res/dog3.jpg">
			</div>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_3'>
				<!-- <img src="res/dog1.jpg"> -->
			</div>
			<div class='scroll__graphic__img right_panel' id='scroll__graphic__img_4'>
				<!--<img src="res/dog4.jpg"> -->
			</div>
		</div>

		<div class='scroll__text' id='scroll__text_1'>
			<div class='step' id='step_0'>
				<p>STEP 1</p>
				<p>Era uma vez, um pedaçinho no meio do nada</p>
			</div>
			<div class='step' id='step_1'>
				<p>STEP 2</p>
				<p>Com sabor de chocolate</p>
			</div>
			<div class='step' id='step_2'>
				<p>STEP 3</p>
				<p>Com cheiro de terra molhada</p>
			</div>
			<div class='step' id='step_3'>
				<p>STEP 3</p>
				<p>Com cheiro de terra molhada</p>
			</div>
			<div class='step' id='step_4'>
				<p>STEP 4</p>
				<p>Pra gente ser feliz, tem que <b>confiar</b> das nossas fantasias</p>
			</div>
		</div>
	</section>
	
	<!-- SECTION 2: Explorando os indíces sociais do Ceará -->
	<section class="section_header">
		<h1>2ª PARTE: Explorando os indíces sociais do Ceará</h1>
	</section>
	
	<section class="scroll" id='scroll_2'>
		<div class='scroll__graphic sticky' id='scroll__graphic_2'>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_5'>
				<img src="res/dog1.jpg">
			</div>
			<div class='scroll__graphic__img right_panel' id='scroll__graphic__img_6'>
				<img src="res/dog2.jpg">
			</div>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_7'>
				<img src="res/dog3.jpg">
			</div>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_8'>
				<img src="res/dog1.jpg">
			</div>
			<div class='scroll__graphic__img right_panel' id='scroll__graphic__img_9'>
				<img src="res/dog4.jpg">
			</div>
		</div>

		<div class='scroll__text' id='scroll__text_2'>
			<div class='step' id='step_5'>
				<p>STEP 1</p>
				<p>Era uma vez, um pedaçinho no meio do nada</p>
			</div>
			<div class='step' id='step_6'>
				<p>STEP 2</p>
				<p>Com sabor de chocolate</p>
			</div>
			<div class='step' id='step_7'>
				<p>STEP 3</p>
				<p>Com cheiro de terra molhada</p>
			</div>
			<div class='step' id='step_8'>
				<p>STEP 3</p>
				<p>Com cheiro de terra molhada</p>
			</div>
			<div class='step' id='step_9'>
				<p>STEP 4</p>
				<p>Pra gente ser feliz, tem que <b>confiar</b> das nossas fantasias</p>
			</div>
		</div>
	</section>

	<!-- SECTION 3: Correlações -->
	<section class="section_header">
		<h1>3ª PARTE: Correlações</h1>
	</section>

	<section class="scroll" id='scroll_3'>
		<div class='scroll__graphic sticky' id='scroll__graphic_3'>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_10'>
				<img src="res/dog1.jpg">
			</div>
			<div class='scroll__graphic__img right_panel' id='scroll__graphic__img_11'>
				<img src="res/dog2.jpg">
			</div>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_12'>
				<img src="res/dog3.jpg">
			</div>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_13'>
				<img src="res/dog1.jpg">
			</div>
			<div class='scroll__graphic__img right_panel' id='scroll__graphic__img_14'>
				<img src="res/dog4.jpg">
			</div>
		</div>

		<div class='scroll__text' id='scroll__text_3'>
			<div class='step' id='step_10'>
				<p>STEP 1</p>
				<p>Era uma vez, um pedaçinho no meio do nada</p>
			</div>
			<div class='step' id='step_11'>
				<p>STEP 2</p>
				<p>Com sabor de chocolate</p>
			</div>
			<div class='step' id='step_12'>
				<p>STEP 3</p>
				<p>Com cheiro de terra molhada</p>
			</div>
			<div class='step' id='step_13'>
				<p>STEP 3</p>
				<p>Com cheiro de terra molhada</p>
			</div>
			<div class='step' id='step_14'>
				<p>STEP 4</p>
				<p>Pra gente ser feliz, tem que <b>confiar</b> das nossas fantasias</p>
			</div>
		</div>
	</section>

	<!-- SECTION 4: Medidas e Soluções -->
	<section class="section_header">
		<h1>4ª PARTE: Medidas e Soluções</h1>
	</section>

	<section class="scroll" id='scroll_4'>
		<div class='scroll__graphic sticky' id='scroll__graphic_4'>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_15'>
				<img src="res/dog1.jpg">
			</div>
			<div class='scroll__graphic__img right_panel' id='scroll__graphic__img_16'>
				<img src="res/dog2.jpg">
			</div>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_17'>
				<img src="res/dog3.jpg">
			</div>
			<div class='scroll__graphic__img left_panel' id='scroll__graphic__img_18'>
				<img src="res/dog1.jpg">
			</div>
			<div class='scroll__graphic__img right_panel' id='scroll__graphic__img_19'>
				<img src="res/dog4.jpg">
			</div>
		</div>

		<div class='scroll__text' id='scroll__text_4'>
			<div class='step' id='step_15'>
				<p>STEP 1</p>
				<p>Era uma vez, um pedaçinho no meio do nada</p>
			</div>
			<div class='step' id='step_16'>
				<p>STEP 2</p>
				<p>Com sabor de chocolate</p>
			</div>
			<div class='step' id='step_17'>
				<p>STEP 3</p>
				<p>Com cheiro de terra molhada</p>
			</div>
			<div class='step' id='step_18'>
				<p>STEP 3</p>
				<p>Com cheiro de terra molhada</p>
			</div>
			<div class='step' id='step_19'>
				<p>STEP 4</p>
				<p>Pra gente ser feliz, tem que <b>confiar</b> das nossas fantasias</p>
			</div>
		</div>
	</section>

	<!-- FINAL SECTION: About -->
	<section id='about_us' class = "col">
		<div id='apresentacao' class="container">
			<br>
			<h5>SOBRE</h5>
			<p>O  projeto <b>RASTROS:  Uma  Visão  Sobre  a  Seca  no  Ceará</b> é  um  trabalho  sub-metido na disciplina <b>CK0242 - Visualizacão de Dados</b>, ofertada pelo Departamento de Computacao da Universidade Federal do Ceará (DC/UFC), que visa retratar de forma dinâmica a história e o impacto do fenômeno da Seca nos aspectos socioecômicos do estado do Ceará, através da análises de visualizações práticas e interativas.</p>

			<p>Esse projeto encontra validade no fato de que, apesar da existência de uma extensa documentação histórica e de um senso comum acerca de vários aspectos, ainda há uma escassez de ferramentas que possam exibir de forma clara e objetiva os impactos desse fenômeno, além de desmistificar possíveis crenças populares sobre os fatos relacionados à Seca no Nordeste e, essencialmente, no Ceará.  A intenção, portanto, é de compilar as informações existentes sobre o fenômeno em um formato que seja acessível para a população comum e que enfatize as informações importantes, muitas vezes implícitas.</p>
		</div>
	</section>

	<section id = "teste">
		<div class="container">
			<h5>MEMBROS</h5>
			<div id="membros" class=" row">
				<div class="membro col-sm">
					<a href='https://github.com/AndyFernandes'>
						<img src="img/membros/andreza.jpg" class="foto_membro">
					</a>
					<p class="name_membro ">Andreza Fernandes</p>
					<a href='mail-to:andrezafernandes@alu.ufc.br'>
						<p class="email_membro">andrezafernandes@alu.ufc.br</p>
					</a>
					<p class="descricao_membro">Lorem Lorem Lorem</p>
				</div>
				
				<div class="membro col-sm">
					<a href='https://github.com/TioMinho'>
						<img src="img/membros/minho.jpg" class="foto_membro">
					</a>
					<p class="name_membro">Otacílio "Minho" Bezerra</p>
					<a href='mail-to:minhotmog@gmail.com'>
						<p class="email_membro">minhotmog@gmail.com</p>
					</a>
					<p class="descricao_membro">Lorem Lorem Lorem</p>
				</div>
					
				<div class="membro col-sm">
					<a href='https://github.com/Dtorres96'>
						<img src="img/membros/davi.jpg" class="foto_membro">
					</a>
					<p class="name_membro">Davi Torres</p>
					<a href='mail-to:dfmtorres96@gmail.com'>
						<p class="email_membro">dfmtorres96@gmail.com</p>
					</a>
					<p class="descricao_membro">Lorem Lorem Lorem</p>
				</div>	
			</div>
		</div>
		<br><br>
	</section>
	

	<!-- RODAPÉ -->
	<section id="rodape" class="">
		<div class="container">
			<div class="row ">
				<div class="col-sm">
					<!-- <img src="img/brasao_ufc.png"> -->
				</div>
				<div class="col-6">
					<!-- <img src="img/logo_cc.png"> -->
				</div>
			</div>	
		</div>
	</section>
	
	<!-- EXECUÇÃO PRINCIPAL DOS SCRIPTS -->
	<script>
		// Cria e redimensiona todos os scrollytellings
		init("#scroll_1");
		init("#scroll_2");
		init("#scroll_3");
		init("#scroll_4");

		// Inicializa e cria uma função assícrona para lidar com os gráficos no título
		for (var i = 0; i < 5; i++) {
			for (var j = 0; j < 5; j++) {
				let idx = Math.floor(Math.random() * 6);
				$("#mosaic_"+(i+1)+"x"+(j+1)).css("background-image", "url(img/seca/"+idx+".jpg)")
			}
		}

		setInterval(sampleImage, 100);

		// Execução da função de plotagem para scatterplots
		newData = []
		let promises = [
		    d3.csv("data/social/dengue.csv").then(function(csv){ 
		    	for (var i = csv.length - 1; i >= 0; i--) {
		    		newData.push({"Localidade": csv[i]["Localidade"], "Notificacoes": csv[i]["2011"]})
		    	}
			}),
			d3.csv("data/social/mortalidade_infantil.csv").then(function(csv){ 
		    	for (var i = csv.length - 1; i >= 0; i--) {
		    		for (var j = newData.length - 1; j >= 0; j--) {
		    			if(newData[j]["Localidade"] == csv[i]["Localidade"]) newData[j]["Mortalidade"] = csv[i]["2011"]
		    		}
		    	}
		    })
		]

		Promise.all(promises).then(function() {
			let options = { "color": "#428BCABB", "marker-size": 5, 
							"width": 800,
							"height": 600,
							"xlabel":"Notificações de Dengue", "ylabel":"Óbitos por Mil Nascidos Vivos" };
		    
		    //scatter(newData, "Notificacoes", "Mortalidade", "Localidade", 
		    	//	"Dengue vs Mortalidade", "#scroll__graphic__img_3", options)	
		})  

		// Corpo para montagem dos gráficos de linha

		//let regua = d3.map();
		ldata = []
		
		let promise = [
			//d3.csv("data/social/regua_precipitacao.csv", function(d){ regua.set(+d.ano, +d.taxa);})
			d3.csv("data/social/regua_precipitacao.csv").then(function(d){
				for(var k = d.length - 1; k >=0; k--){
					ldata.push({"ano": d[k].ano, "precipitacao": d[k].precipitacao})
				}
			})
		]
		Promise.all(promise).then(function(){
			var colors =["#A52A2A","#000000","#00008B","#2F4F4F","#4682B4",
				"#FFFF00","#008080","#6A5ACD","#8B4513","#A52A2A",
				"#000000","#00008B","#2F4F4F","#4682B4","#FFFF00",
				"#008080","#6A5ACD","#8B4513","#6A5ACD","#8B4513"]
			console.log(ldata);
			//schartLine(ldata, "ano", "precipitacao", "Régua de Precipitação", "#scroll__graphic__img_4");
			barChart(ldata, "ano", "precipitacao", "a", "teste", "#scroll__graphic__img_3", colors)
		});    
	</script>

</body>

</html>
